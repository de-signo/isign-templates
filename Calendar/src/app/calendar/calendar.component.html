<!-- 
  Copyright (C) 2024 DE SIGNO GmbH
  
  This program is dual licensed. If you did not license the program under
  different terms, the following applies:
  
  This program is free software: You can redistribute it and/or modify
  it under the terms of the GNU Affero General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.
  
  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU Affero General Public License for more details.
  
  You should have received a copy of the GNU Affero General Public License
  along with this program.  If not, see <https://www.gnu.org/licenses/>.
  
 -->

<table>
  <thead>
    <tr>
      <th></th>
      <th class="colheader" *ngFor="let day of days">
        {{ day.date | date : 'EEEE' }}<br>{{ day.date | date : 'dd.MM.yyyy' }}
      </th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let hour of hours">
      <th class="rowheader">
        {{ hour | date : 'HH:mm' }}
      </th>
      <td *ngFor="let day of days">
        <div>
          <div></div>
          <hr *ngIf="isMatch(day, hour, now)" [ngStyle]="{ 'top.%': getTop(now) }" />
          <div class="item" *ngFor="let item of getItems(day, hour)" [ngStyle]="{ 'top.%': getTop(item.begin), 'height.%': getHeight(day, item) }">
            <!-- {{ item.begin | date : 'short' }} - {{ item.end | date : 'short' }} -->
            <div>{{ item.name1 }}</div>
            <div>{{ item.name2 }}</div>
            <div>{{ item.info1 }}</div>
            <div>{{ item.info2 }}</div>
            <div>{{ item.info3 }}</div>
          </div>
        </div>
      </td>
    </tr>
  </tbody>
</table>
