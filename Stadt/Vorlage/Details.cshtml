@using Stolltec.Forms.Model
@{
    var id = Request["id"];
    var Model = new FormsModel(this);
    var data = (from x in Model.DataSource("source")
                where (string)x["id"] == id
                select x).FirstOrDefault();

    Page.Home = Model.NavigateHome();
    Layout = "Layout.cshtml";
}

<div class="detail">
@if(data == null) {
    <span>Nicht gefunden</span>
} else {
    <h1>@data.Resolved("cat_name")</h1>
    
    <a class="back" href="javascript: window.history.back()">Back</a>
    <a class="home" href="@Page.Home">Home</a>

    <div class="content">
        <h2>@data.Resolved("detail_term1")</h2>
        <h3>@data.Resolved("detail_term2")</h3>
        <p>
            @data.Resolved("detail_house"),
            @data.Resolved("detail_level")
            @data.Resolved("detail_entrance")
        </p>
        <p>
            @if (!data.Empty("detail_phone")) {<text>Fon: @data.Resolved("detail_phone")</text>}
            @if (!data.Empty("detail_email")) {<text>E-mail: @data.Resolved("detail_email")</text>}
        </p>
        <p>
            @data.Resolved("detail_info")
        </p>
    </div>

    if (!data.Empty("detail_map")) {<img src="@data.DataFileHandler("detail_map")" alt="map"/>}
}

<footer>
<img class="hand" src="hand1.png" />


<a class="back" href="javascript: window.history.back()">Back</a>
<a class="home" href="@Page.Home">Home</a>
</footer>
</div>